{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "configure_credentials",
  "description": "Configure Binance API credentials for the current MCP session. Credentials are validated synchronously for format (64 alphanumeric characters) and stored in-memory only (never persisted to disk). Environment determines whether testnet or mainnet endpoints are used for authenticated API calls.",
  "type": "object",
  "properties": {
    "api_key": {
      "type": "string",
      "description": "Binance API key (64 alphanumeric characters)",
      "pattern": "^[A-Za-z0-9]{64}$",
      "minLength": 64,
      "maxLength": 64
    },
    "api_secret": {
      "type": "string",
      "description": "Binance API secret (64 alphanumeric characters)",
      "pattern": "^[A-Za-z0-9]{64}$",
      "minLength": 64,
      "maxLength": 64
    },
    "environment": {
      "type": "string",
      "description": "Binance environment to use for authenticated API calls",
      "enum": ["testnet", "mainnet"]
    }
  },
  "required": ["api_key", "api_secret", "environment"],
  "additionalProperties": false,
  "examples": [
    {
      "api_key": "1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef",
      "api_secret": "fedcba0987654321fedcba0987654321fedcba0987654321fedcba0987654321",
      "environment": "testnet"
    }
  ],
  "success_response": {
    "type": "object",
    "properties": {
      "configured": {
        "type": "boolean",
        "const": true
      },
      "environment": {
        "type": "string",
        "enum": ["testnet", "mainnet"]
      },
      "configured_at": {
        "type": "string",
        "format": "date-time",
        "description": "ISO8601 timestamp of configuration"
      }
    }
  },
  "error_responses": [
    {
      "error_code": "INVALID_API_KEY_FORMAT",
      "message": "API key must be exactly 64 alphanumeric characters",
      "condition": "api_key does not match ^[A-Za-z0-9]{64}$"
    },
    {
      "error_code": "INVALID_API_SECRET_FORMAT",
      "message": "API secret must be exactly 64 alphanumeric characters",
      "condition": "api_secret does not match ^[A-Za-z0-9]{64}$"
    },
    {
      "error_code": "INVALID_ENVIRONMENT",
      "message": "Environment must be 'testnet' or 'mainnet'",
      "condition": "environment not in [testnet, mainnet]"
    }
  ],
  "notes": [
    "Credentials are session-scoped and cleared when session ends",
    "No disk persistence per FR-004 security requirement",
    "Format validation is synchronous (<10ms per SC-007)",
    "API credential validation occurs asynchronously on first authenticated tool call",
    "Calling configure_credentials again overwrites existing credentials (last write wins)"
  ]
}
